# 10-1 버전 되돌리기 reset

기능 reset 이해: 커밋 이력에서 이전 특징 커밋으로 완전히 되돌아가는 방법
reset 옵션 --hard, --mixed, --soft
--hard: 지정된 HEAD~ 의 내용으로 작업 폴더와 스테이징 영역, 깃 저장소가 모두 복사, 수정 
--mixed: 지정된 HEAD~의 내용으로 스테이징 영역과 깃 저장소가 모두 복사, 수정
--soft: 지정된 HEAD~의 내용으로 깃 저장소만 복사, 수정

$git reset <옵션><돌아가고 싶은 커밋>
--soft: 돌아가려 했던 이력으로 되돌아 갓지만 해당 내용의 인덱스도 그대로
--mixed: 이력은 되돌려지고, 인덱스도 되돌아가는 커밋의 내용으로 초기화, 마지막 이전 head로 돌아가려면 add, commit 필요
--hard: 돌아가려는 이력 이후의 모든 내용을 삭제, 다시 마지막 이전 head로 돌아가려면 add, commit, 파일 수정 필요
'ORIG_HEAD' 이용하면 매우 간단 -> $git reset --hard ORIG_HEAD

$git reset 9033: 브랜치의 마지막 커밋을 수정하는 명령
$git checkout 9033: head 포인터를 프랜치 마지막 커밋 이전으로 이동하는 명령

# 10-3 커밋 취소 revert
undo와 비슷한 기능
지정한 특정 커밋을 취소해 바로 이전 상태로 되돌리는 방법, reset과 다르게 커밋할 것이 없고, 작업 영역이 깨끗해야 수행 가능
인자 head~와 같이 head 이전을 취소하면 충돌 발생 가능 -> 이전 취소 여러번 계속
---no-edit: 추가되는 커밋 메시지가 자동으로 'revert 이전 커밋 메시지'로 지정

오류가 발생해 revert가 취소
커밋할 것이 있고 작업 영역이 깨끗하지 않으면 오류
해결 방법: 커밋을 하고 다시 revert $git reset --hard HEAD~
취소 인자를 head로 사용

reset vs revert
reset: 되돌리기, 재설정 -> 특정 커밋으로 되돌아가고 그 이후의 로그 이력은 모두 제거
revert: 커밋 취소 -> 특정 커밋을 취소하는 새로운 커밋 생성, 이전 모든 이력은 그대로 남음
